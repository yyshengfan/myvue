
	    var ForexListPage;
		$(function(){
			var url = "http://quote.forex.hexun.com/hqzx/restquote.aspx?type=3";
			var divid="res";	
			$.ajaxSetup ({ cache: true }); 
			 $.getScript('/qte/qte.php?t=1',function(data){
					getNewData('/qte/restquote.php',divid,forexSetArr);
				 	var tg=self.setInterval(function(){getNewData(url,divid,forexSetArr);},5000);
			 })
	
		});
		function getNewData(url,divid,strArr){
			$.ajaxSetup ({ cache: true }); 
			$.getScript(url,function(data){
				var newDataArr;
				newDataArr=inArr(strArr[0],forexDataArr);
				var hc='';
				hc+="<ul>";
				hc+="<li>";	
				if(strArr.length>2) {  
					if(strArr[2].length>0) {					
						for (var j = 0; j < strArr[1].length; j++) {	
							hc+="<span>"+strArr[2][j]+"</span>"; 		
						}
					}
				}
				hc+="</li>";
				for(var i=0;i<newDataArr.length;i++){
					hc+="<li>";
					if(strArr.length>1) {  
						for (var j = 0; j < strArr[1].length; j++) {	
							a=strArr[1][j]; 
							if(newDataArr[i][a]>0){
								hc+="<span class=\"red\">"+newDataArr[i][a]+"</span>"; 
							}else{
								hc+="<span class=\"green\">"+newDataArr[i][a]+"</span>"; 
							}
							
						}
					}else{
						for (var j = 0; j < newDataArr[i].length; j++) {	
							hc+="<span>"+newDataArr[i][j]+"</span>"; 
						}				
					}
					hc+="</li>";
				}
				hc+="</ul>";
				$("#"+divid).html(hc);
			});
		}
		function inArr(strArr,data){ 
			var newArr = [];
			for (var i = 0; i < data.length; i++) {			
				isInArray=$.inArray(data[i][0],strArr);
				isInArray<0?"":newArr.push(data[i]);
			}	
			return newArr;
		}
    